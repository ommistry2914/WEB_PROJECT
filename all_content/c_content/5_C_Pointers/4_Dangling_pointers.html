<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dangling Pointers in C</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<link rel="stylesheet" href="../../../stylesheet.css">
  <link rel="stylesheet" type="text/css" href="https://static.javatpoint.com/link.css?v=6.0" async />
  <link rel="icon" type="image/x-icon" href="../../icon/sg.png">
  <style>
    .active-submenu {
        font-weight: 500;
        background-color: darkgray;
    }

    .active-submenu:hover {
        font-weight: 500;
        background-color: darkgray;
    }
    a:hover{
            text-decoration: none;
        }
</style>
</head>
<body style="background-image: radial-gradient(#b3d6e6,white,#b3d6e6);">
	<nav class="navbar navbar-dark bg-primary sticky-top" aria-label="Dark offcanvas navbar">
	  <div class="container-fluid">
		  <a class="navbar-brand" href="../../../home.html">
			  <img src="../../icon/sg.png" alt="icon" style="height: 50px; width: 50px; margin-left: 20px;">
		  </a>
		  <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
			  data-bs-target="#offcanvasNavbarDark" aria-controls="offcanvasNavbarDark"
			  aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbarDark"
			  aria-labelledby="offcanvasNavbarDarkLabel">
			  <div class="offcanvas-header">
				  <h5 class="offcanvas-title" id="offcanvasNavbarDarkLabel">
					  <img src="../../icon/sg.png" alt="icon" style="height: 50px;">
				  </h5>
				  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
					  aria-label="Close"></button>
			  </div>
			  <div class="offcanvas-body">
				  <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
					  <li class="nav-item">
						  <a class="nav-link" aria-current="page" href="../../../home.html">Home</a>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  Programming Language
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item active-submenu" href="../../../first_page/c_page.html">C</a></li>
							  <li><a class="dropdown-item" href="../../../first_page/c++_page.html">C++</a></li>
							  <li><a class="dropdown-item" href="../../../first_page/java_page.html">Java</a></li>
							  <li><a class="dropdown-item" href="../../../first_page/python_page.html">Python</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Tutorials
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item " href="../1_C_Tutorials/1C_language_tutorial.html">C Language Tutorial</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/2_History_of_c_language.html">History of C language</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/3_Feature_of_c_language.html">Feature of C language</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/4_How_to_install_C.html">how to install C</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/5_First_c_program.html">First C program</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/6_Compilation_process_in_C.html">Compilation process</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/7_printf_scanf.html">Printf scanf</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/8_Variables_in_C.html">Variables in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/9_Data_types_in_c.html">Datatypes in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/10_Keywords_in_c.html">keywords in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/11_C_Identifiers.html">Identifiers in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/12_C_Operators.html">Operators in c</a></li>
							  <li><a class="dropdown-item " href="../1_C_Tutorials/13_C_Comments.html">Comments in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/14_C_Format_specifier.html">Format Specifier in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/15_C_Escape_Sequence.html">Escape Sequence in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/16_ASCII_in_C.html">ASCII in C</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/17_Constants_in_c.html">Constants in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/18_Literals_in_c.html">Literals in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/19_Tokens_in_c.html">tokens in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/20_C_boolean.html">Boolean in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/21_Programming_Error_in_c.html">Programming errors in c</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/22_Compile_Time_Vs_Run_Time.html">Compile time Vs Run time</a></li>
							  <li><a class="dropdown-item" href="../1_C_Tutorials/23_Conditional_Operators_in_C.html">Conditional Operators in c</a></li>
						   
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Control Statements
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item " href="../2_C_Control_Statements/1_C_if-else.html">if-else</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/2_Switch_case_in_C.html">switch-case</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/3_If-else_Vs_Switch.html">If-else Vs Switch</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/4_Loop_in_C.html">Loop in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/5_Do_While_in_C.html">Do while in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/6_While_loop_in_c.html">While loop in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/7_For_loop_in_C.html">For loop in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/8_Nested_loops_in_c.html">Nested Loops in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/9_Infinite_loops_in_c.html">Infinite Loops in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/10_Break_in_C.html">Break in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/11_Continue_in_C.html">Continue in C </a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/12_Goto_in_C.html">Goto Label in C</a></li>
							  <li><a class="dropdown-item" href="../2_C_Control_Statements/13_C_Comments">Comments</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Functions
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item " href="../3_C_Functions/1_What_is_Function_in_C.html">what is function</a></li>
							  <li><a class="dropdown-item" href="../3_C_Functions/2_Call_by_value_or_reference_in_C.html">call by value or reference</a></li>
							  <li><a class="dropdown-item" href="../3_C_Functions/3_Recursion_in_C.html">recursion</a></li>
							  <li><a class="dropdown-item active" href="../3_C_Functions/4_Storage_Classes_in_C.html">storage classes</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Array
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item" href="../4_C_Array/1_1D_Array_In_C.html">1D Array</a></li>
							  <li><a class="dropdown-item" href="../4_C_Array/2_2D_Array_in_C.html">2D Array</a></li>
							  <li><a class="dropdown-item" href="../4_C_Array/3_Return_An_Array_in_C.html">Return an Array</a></li>
							  <li><a class="dropdown-item" href="../4_C_Array/4_Array_to_Functions_in_C.html">Array to function</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Pointers
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item" href="1_C_pointers.html">Pointers in C</a></li>
							  <li><a class="dropdown-item" href="2_Pointers_to_Pointers.html">Pointers to pointers</a></li>
							  <li><a class="dropdown-item" href="3_Pointer_Arithmetic.html">Pointer arithmetic</a></li>
							  <li><a class="dropdown-item" href="4_Dangling_pointers.html">Dangling pointers</a></li>
							  <li><a class="dropdown-item active-submenu" href="5_Sizeof()_Operator_in_C.html">sizeof( ) operator</a></li>
							  <li><a class="dropdown-item" href="6_Constant_Pointer.html">Constant pointer</a></li>
							  <li><a class="dropdown-item" href="7_Void_pointer.html">Void pointer </a></li>
							  <li><a class="dropdown-item" href="8_Dereference_pointer.html">Dereference Pointer </a></li>
							  <li><a class="dropdown-item" href="9_Null_Pointer.html">Null pointer </a></li>
							  <li><a class="dropdown-item" href="10_Function_pointer.html">Function Pointer </a></li>
							  <li><a class="dropdown-item" href="11_Function_pointer_as_Argument.html">Function Pointer as argument</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  C Strings
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item" href="../6_C_Strings/1_String_in_C.html">Strings in C </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/2_gets_&_puts.html">gets & puts </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/3_String_functions.html">String functions </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/4_c_strlen().html">strlen</a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/5_c_strcpy().html">strcpy</a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/6_c_strcat().html">strcat</a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/7_c_strcmp().html">strcmp </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/8_c_strrev().html">strrev </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/9_c_strlwr().html">strlwr </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/10_c_strupr().html">strupr </a></li>
							  <li><a class="dropdown-item" href="../6_C_Strings/11_c_strstr().html">strstr</a></li>
						  </ul>
					  </li>
					  <li class="nav-item dropdown">
						  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							  aria-expanded="false">
							  Web Developement
						  </a>
						  <ul class="dropdown-menu">
							  <li><a class="dropdown-item" href="../../../first_page/html_page.html">HTML</a></li>
							  <li><a class="dropdown-item" href="../../../first_page/css_page.html">CSS</a></li>
							  <li><a class="dropdown-item" href="../../../first_page/javascript_page.html">JavaScript</a></li>
						  </ul>
					  </li>
					  <li class="nav-item">
						  <a class="nav-link" href="../../../first_page/ml_page.html">Machine Learning</a>
					  </li>
					  <li class="nav-item">
						  <a class="nav-link" href="../../../about.html">About Us</a>
					  </li>
					  <li class="nav-item">
						  <a class="nav-link" href="../../../contact.html">Contact Us</a>
					  </li>
				  </ul>
			  </div>
		  </div>
	  </div>
  </nav>
  <div style="padding: 30px;font-size: 18px;">
    <h1 class="h1">Dangling Pointers in C</h1>
    <p>The most common bugs related to pointers and memory management is dangling/wild pointers. Sometimes the programmer fails to initialize the pointer with a valid address, then this type of initialized pointer is known as a dangling pointer in C.</p>
    <p>Dangling pointer occurs at the time of the object destruction when the object is deleted or de-allocated from memory without modifying the value of the pointer. In this case, the pointer is pointing to the memory, which is de-allocated. The dangling pointer can point to the memory, which contains either the program code or the code of the operating system. If we assign the value to this pointer, then it overwrites the value of the program code or operating system instructions; in such cases, the program will show the undesirable result or may even crash. If the memory is re-allocated to some other process, then we dereference the dangling pointer will cause the segmentation faults.</p>
    <p class="pq"><strong>Let's observe the following examples.</strong></p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c.png" alt="Dangling Pointers in C" />
    <p>In the above figure, we can observe that the <strong>Pointer 3</strong> is a dangling pointer. <strong>Pointer 1</strong> and <strong>Pointer 2</strong> are the pointers that point to the allocated objects, i.e., Object 1 and Object 2, respectively. <strong>Pointer 3</strong> is a dangling pointer as it points to the de-allocated object.</p>
    <p class="pq"><strong>Let's understand the dangling pointer through some C programs.</strong></p>
    <p><strong>Using free() function to de-allocate the memory.</strong></p>
    <div class="codeblock"><textarea name="code" class="java">
    #include &lt;stdio.h&gt;
    int main()
    {
       int *ptr=(int *)malloc(sizeof(int));
       int a=560;
       ptr=&a;
       free(ptr);
       return 0;
    }
    </textarea></div>
    <p>In the above code, we have created two variables, i.e., *ptr and a where 'ptr' is a pointer and 'a' is a integer variable. The *ptr is a pointer variable which is created with the help of <strong>malloc()</strong> function. As we know that malloc() function returns void, so we use int * to convert void pointer into int pointer.</p>
    <p>The statement <strong>int *ptr=(int *)malloc(sizeof(int));</strong> will allocate the memory with 4 bytes shown in the below image:</p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c2.png" alt="Dangling Pointers in C" />
    <p>The statement <strong>free(ptr)</strong> de-allocates the memory as shown in the below image with a cross sign, and 'ptr' pointer becomes dangling as it is pointing to the de-allocated memory.</p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c3.png" alt="Dangling Pointers in C" />
    <p>If we assign the NULL value to the 'ptr', then 'ptr' will not point to the deleted memory. Therefore, we can say that ptr is not a dangling pointer, as shown in the below image:</p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c4.png" alt="Dangling Pointers in C" />
    <p class="pq"><strong>Variable goes out of the scope</strong></p>
    <p>When the variable goes out of the scope then the pointer pointing to the variable becomes a <strong>dangling pointer.</strong></p>
    <div class="codeblock"><textarea name="code" class="java">
    #include&lt;stdio.h&gt;
    int main()
    {
        char *str;
        {
            char a = ?A?;
            str = &a;
        }
        // a falls out of scope 
        // str is now a dangling pointer 
        printf("%s", *str);
    }
    </textarea></div>
    <p><strong>In the above code, we did the following steps:</strong></p>
    <ul class="points">
    <li>First, we declare the pointer variable named 'str'.</li>
    <li>In the inner scope, we declare a character variable. The str pointer contains the address of the variable 'a'.</li>
    <li>When the control comes out of the inner scope, 'a' variable will no longer be available, so str points to the de-allocated memory. It means that the str pointer becomes the dangling pointer.</li>
    </ul>
    <p class="pq"><strong>Function call</strong></p>
    <p>Now, we will see how the pointer becomes dangling when we call the function.</p>
    <p><strong>Let's understand through an example.</strong></p>
    <div class="codeblock"><textarea name="code" class="java">
       #include &lt;stdio.h&gt;
        int *fun(){
        int y=10;
        return &y;
      }
    int main()
    {
    int *p=fun();
    printf("%d", *p);
    return 0;
    }
    </textarea></div>
    <p><strong>In the above code, we did the following steps:</strong></p>
    <ul class="points">
    <li>First, we create the <strong>main()</strong> function in which we have declared <strong>'p'</strong> pointer that contains the return value of the <strong>fun()</strong>.</li>
    <li>When the <strong>fun()</strong> is called, then the control moves to the context of the <strong>int *fun(),</strong> the <strong>fun() </strong>returns the address of the 'y' variable.</li>
    <li>When control comes back to the context of the <strong>main()</strong> function, it means the variable <strong>'y'</strong> is no longer available. Therefore, we can say that the <strong>'p'</strong> pointer is a dangling pointer as it points to the de-allocated memory.</li>
    </ul>
    <p><strong>Output</strong></p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c5.png" alt="Dangling Pointers in C" />
    <p><strong>Let's represent the working of the above code diagrammatically.</strong></p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c6.png" alt="Dangling Pointers in C" />
    <p><strong>Let's consider another example of a dangling pointer.</strong></p>
    <div class="codeblock"><textarea name="code" class="java">
    #include &lt;stdio.h&gt;
    int *fun()
    {
        static int y=10;
        return &y;
    }
    int main()
    {
       int *p=fun();
       printf("%d", *p);
        return 0;
    }
    </textarea></div>
    <p>The above code is similar to the previous one but the only difference is that the variable 'y' is static. We know that static variable stores in the global memory.</p>
    <p><strong>Output</strong></p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c7.png" alt="Dangling Pointers in C" />
    <p>Now, we represent the working of the above code diagrammatically.</p>
    <img src="https://static.javatpoint.com/cpages/images/dangling-pointers-in-c8.png" alt="Dangling Pointers in C" />
    <p>The above diagram shows the stack memory. First, <strong>the fun()</strong> function is called, then the control moves to the context of the <strong>int *fun().</strong> As 'y' is a static variable, so it stores in the global memory; Its scope is available throughout the program. When the address value is returned, then the control comes back to the context of the <strong>main().</strong> The pointer 'p' contains the address of 'y', i.e., 100. When we print the value of '*p', then it prints the value of 'y', i.e., 10. Therefore, we can say that the pointer 'p' is not a dangling pointer as it contains the address of the variable which is stored in the global memory.</p>
    <p class="pq"><strong>Avoiding Dangling Pointer Errors</strong></p>
    <p>The dangling pointer errors can be avoided by initializing the pointer to the <strong>NULL</strong> value. If we assign the <strong>NULL</strong> value to the pointer, then the pointer will not point to the de-allocated memory. Assigning <strong>NULL</strong> value to the pointer means that the pointer is not pointing to any memory location.</p>
    <hr/>
    </div>
    <div class="d-flex justify-content-between align-items-center my-4 mx-5">
        <a href="3_Pointer_Arithmetic.html"><button class="btn btn-danger" type="button">Previous</button></a>
        <a href="5_Sizeof()_Operator_in_C.html"><button class="btn btn-success" type="button">Next</button></a>
        </div>
        <footer>
            <div class="container-fluid bg-dark text-bg-dark"
                style="height: 50px; display: flex; align-items: center; font-size: 15px; justify-content: center;">
                Copyright&nbsp; ©&nbsp; 2023&nbsp; StudyGenie&nbsp; -&nbsp; All Rights Reserved.
            </div>
          </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>